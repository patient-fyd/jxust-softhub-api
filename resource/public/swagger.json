{
  "openapi": "3.0.0",
  "info": {
    "title": "JXUST SoftHub API",
    "version": "1.0.0",
    "description": "JXUST SoftHub 前台与后台管理系统接口文档，所有接口遵循 RESTful 风格，返回格式统一为 { code, message, traceid, data }。支持 JWT 鉴权与权限校验。"
  },
  "servers": [
    {
      "url": "http://localhost:9000",
      "description": "本地开发环境"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "ApiResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "业务状态码，0 表示成功，其它值表示错误"
          },
          "message": {
            "type": "string",
            "description": "返回信息描述"
          },
          "traceid": {
            "type": "string",
            "description": "请求追踪 ID"
          },
          "data": {
            "type": "object",
            "description": "返回数据，具体结构视接口而定"
          }
        }
      },
      "UserRegisterRequest": {
        "type": "object",
        "properties": {
          "userName": { "type": "string", "description": "用户名" },
          "password": { "type": "string", "description": "用户密码" },
          "name": { "type": "string", "description": "真实姓名" },
          "email": { "type": "string", "description": "电子邮箱" },
          "phone": { "type": "string", "description": "联系电话" }
        },
        "required": ["userName", "password", "name", "email", "phone"]
      },
      "UserLoginRequest": {
        "type": "object",
        "properties": {
          "userName": { "type": "string", "description": "用户名" },
          "password": { "type": "string", "description": "用户密码" }
        },
        "required": ["userName", "password"]
      },
      "UserInfo": {
        "type": "object",
        "properties": {
          "userId": { "type": "integer", "description": "用户ID" },
          "userName": { "type": "string", "description": "用户名" },
          "name": { "type": "string", "description": "真实姓名" },
          "roleId": { "type": "integer", "description": "用户角色ID" }
        }
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/v1/api/auth/register": {
      "post": {
        "summary": "用户注册",
        "description": "前台用户注册接口，所有注册用户默认 roleId 为 0（普通学生）。",
        "requestBody": {
          "description": "用户注册信息",
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/UserRegisterRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "注册成功，返回用户信息",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    },
    "/v1/api/auth/login": {
      "post": {
        "summary": "用户登录",
        "description": "前台用户登录接口，返回 JWT Token 与用户基本信息。",
        "requestBody": {
          "description": "用户登录请求参数",
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/UserLoginRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "登录成功，返回 Token 与用户信息",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    },
    "/v1/api/user/info": {
      "get": {
        "summary": "获取当前用户信息",
        "description": "返回当前登录用户的详细信息。",
        "security": [ { "bearerAuth": [] } ],
        "responses": {
          "200": {
            "description": "返回用户信息",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    },
    "/v1/api/user/list": {
      "get": {
        "summary": "获取用户列表",
        "description": "管理员接口：返回所有用户列表，支持分页与搜索。",
        "security": [ { "bearerAuth": [] } ],
        "parameters": [
          { "name": "page", "in": "query", "description": "当前页码", "schema": { "type": "integer", "default": 1 } },
          { "name": "pageSize", "in": "query", "description": "每页数量", "schema": { "type": "integer", "default": 10 } },
          { "name": "keyword", "in": "query", "description": "搜索关键字", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "返回用户列表及分页数据",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    },
    "/v1/api/member/create": {
      "post": {
        "summary": "创建成员",
        "description": "创建新的成员信息",
        "security": [ { "bearerAuth": [] } ],
        "responses": {
          "200": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    },
    "/v1/api/member/delete": {
      "delete": {
        "summary": "删除成员",
        "description": "删除指定的成员",
        "security": [ { "bearerAuth": [] } ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    },
    "/v1/api/member/detail": {
      "get": {
        "summary": "获取成员详情",
        "description": "获取指定成员的详细信息",
        "security": [ { "bearerAuth": [] } ],
        "responses": {
          "200": {
            "description": "返回成员详情",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    },
    "/v1/api/member/list": {
      "get": {
        "summary": "获取成员列表",
        "description": "获取所有成员的列表",
        "security": [ { "bearerAuth": [] } ],
        "responses": {
          "200": {
            "description": "返回成员列表",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    },
    "/v1/api/member/update": {
      "put": {
        "summary": "更新成员信息",
        "description": "更新指定成员的信息",
        "security": [ { "bearerAuth": [] } ],
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    },
    "/v1/api/stat/activity": {
      "get": {
        "summary": "获取活动统计",
        "description": "获取活动相关的统计数据",
        "security": [ { "bearerAuth": [] } ],
        "responses": {
          "200": {
            "description": "返回活动统计数据",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    },
    "/v1/api/stat/user": {
      "get": {
        "summary": "获取用户统计",
        "description": "获取用户相关的统计数据",
        "security": [ { "bearerAuth": [] } ],
        "responses": {
          "200": {
            "description": "返回用户统计数据",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    },
    "/v1/api/stat/visit": {
      "get": {
        "summary": "获取访问统计",
        "description": "获取网站访问相关的统计数据",
        "security": [ { "bearerAuth": [] } ],
        "responses": {
          "200": {
            "description": "返回访问统计数据",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ApiResponse" }
              }
            }
          }
        }
      }
    }
  }
} 